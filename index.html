<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<html>
<head>
	<meta charset="utf-8">
	<title>Node.js in the Cloud</title>
  <meta name="description" content="NovaNode talk - 'Getting Started with Node.js in the Cloud'">
  <meta name="author" content="Ryan Roemer">
	<meta name="viewport" content="width=1024, user-scalable=no">

  <link rel="stylesheet" href="./slides/core/deck.core.css">
  <link rel="stylesheet" href="./slides/extensions/goto/deck.goto.css">
  <link rel="stylesheet" href="./slides/extensions/menu/deck.menu.css">
  <link rel="stylesheet" href="./slides/extensions/navigation/deck.navigation.css">
  <link rel="stylesheet" href="./slides/extensions/status/deck.status.css">
  <link rel="stylesheet" href="./slides/extensions/hash/deck.hash.css">

  <link rel="stylesheet" href="./slides/themes/transition/horizontal-slide.css">

  <link rel="stylesheet" href="./slides/plugins/codemirror/deck.codemirror.css">
  <link rel="stylesheet" href="./slides/plugins/codemirror/themes/elegant.css">
<!--
  <link rel="stylesheet" href="./slides/plugins/codemirror/themes/cobalt.css">
  <link rel="stylesheet" href="./slides/plugins/codemirror/themes/default.css">
  <link rel="stylesheet" href="./slides/plugins/codemirror/themes/neat.css">
  <link rel="stylesheet" href="./slides/plugins/codemirror/themes/night.css">
-->

  <link rel="stylesheet" href="./slides/custom/slides.css">

	<script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.5.3/modernizr.min.js"></script>
</head>
<body class="deck-container">

<section class="slide" id="title-slide">
  <h1>Getting Started with Node.js in the Cloud</h1>
</section>

<section class="slide" id="talk">
  <h2>First, let's chat...</h2>
  <div class="link">
    <br />
    <a href="http://talk.sdsandbox.com">talk.sdsandbox.com</a>
  </div>
  <br /><br />
  <p style="text-align: center"><em>(Thanks to GitHub user
    <a href="https://github.com/steffenwt">steffenwt</a><br /> for
    <a href="https://github.com/steffenwt/nodejs-pub-sub-chat-demo">nodejs-pub-sub-chat-demo</a>)
  </em></p>
</section>

<section class="slide" id="node-introduction">
  <h2>Node.js</h2>
  <ul>
    <li><strong>Evented</strong></li>
    <li><strong>Non-blocking</strong></li>
    <li><strong>Asynchronous</strong></li>
    <li><strong>Lightweight</strong></li>
    <li><strong>Scalable</strong></li>
    <li><strong>Fast</strong></li>
  </ul>
</section>

<section class="slide" id="cloud-introduction">
  <h2>The "Cloud"</h2>
  <ul>
    <li><strong>Scalable</strong></li>
    <li><strong>Elastic</strong></li>
    <li><strong>Flexible</strong></li>
    <li><strong>"Building blocks"</strong> - vast array of services and products</li>
  </ul>
</section>

<section class="slide" id="together">
  <h2>Node.js in the Cloud</h2>
  <p>
    We can build <strong>scalable</strong>, <strong>efficient</strong>, and
    <strong>fast</strong> web applications and services.
  </p>
  <p>
    At the <em>micro</em>-level, Node.js applications can support large numbers
    of connections and glue together lots of different services.
  </p>
  <p>
    At the <em>macro</em>-level, the cloud allows us to scale out servers, and
    provide various backing components.
  </p>
</section>

<section class="slide" id="use-cases">
  <h2>Use Cases</h2>
  <ul>
    <li>Real-time web applications.</li>
    <li>
      Mobile application backends.
      (<a href="http://engineering.linkedin.com/tags/nodejs"
        >LinkedIn Mobile</a>)
    </li>
    <li>
      API endpoints.
      (<a href="http://www.ebaytechblog.com/2011/11/30/announcing-ql-io/"
        >eBay + ql.io</a>)
    </li>
  </ul>
  <img class="bordered"
       src="./slides/custom/suggest.png" alt="Application traffic" />
</section>

<section class="slide" id="example-app">
  <h2>Anti-Use Cases</h2>
  <p>Some situations where Node.js <em>may</em> not be the best choice.</p>
  <ul>
    <li>CPU-bound applications.</li>
    <li>Simple CRUD applications.</li>
    <li>Need a library in a specific language.</li>
  </ul>
</section>

<section class="slide" id="paas-providers">
  <h2>PAAS Providers</h2>
  <p>Node.js Platform-as-a-Service offerings:</p>
  <ul>
    <li><strong><a href="http://www.heroku.com/">Heroku</a></strong></li>
    <li><strong><a href="http://joyentcloud.com/">Joyent</a></strong></li>
    <li><strong><a href="http://www.cloudfoundry.com/">Cloud Foundry</a></strong></li>
    <li><strong><a href="http://nodester.com/">Nodester</a></strong></li>
    <li><strong><a href="http://nodejitsu.com/">NodeJitsu</a></strong></li>
    <li><strong><a href="http://www.windowsazure.com/en-us/develop/nodejs/">Microsoft Azure</a></strong></li>
  </ul>
</section>

<section class="slide" id="iaas-providers">
  <h2>IAAS Providers</h2>
  <p>Infrastructure-as-a-Service providers. Host it yourself!</p>
  <ul>
    <li><strong><a href="http://aws.amazon.com/">Amazon Web Services</a></strong></li>
    <li><strong><a href="http://www.rackspace.com/cloud/">Rackspace Cloud</a></strong></li>
    <li><em>... and many, many others ...</em></li>
  </ul>
</section>

<section class="slide" id="heroku-intro">
  <h2>Heroku</h2>
  <ul>
    <li>Deploy Node.js (and other) apps straight from
        <a href="http://git-scm.com/">git</a>.</li>
    <li>Pay-per-use model.</li>
    <li>Scalable web and worker servers.</li>
    <li>
      Numerous
      <a href="https://addons.heroku.com/">add-ons</a>
      (database, mail, logging, etc. services).</li>
    <li>Integrated in the Amazon Web Services cloud.</li>
  </ul>
  <img src="./slides/custom/heroku-logo-light-300x100.png" alt="Heroku logo" />
</section>

<section class="slide" id="heroku-setup">
  <h2>Hooking up Heroku</h2>
  <p>
    Heroku provides an excellent Node.js guide that can get you up and running.
    (<a href="http://devcenter.heroku.com/articles/nodejs"
      >devcenter.heroku.com/articles/nodejs</a>)
  </p>
  <ul>
    <li>
      <strong>Sign up</strong>:
      <a href="https://api.heroku.com/signup">api.heroku.com/signup</a>
    </li>
    <li>
      <strong>Log in</strong>:
      <a href="https://api.heroku.com/login">api.heroku.com/login</a>
    </li>
    <li>
      <strong>Install Heroku</strong>: (<em>See Node guide</em>)
    </li>
    <li>
      <strong>Install NVM</strong>:
      <a href="https://github.com/creationix/nvm">github.com/creationix/nvm</a>
      (<em>Highly recommended for development</em>)
    </li>
  </ul>
</section>

<section class="slide" id="hello-app">
  <h2>Hello World!</h2>
  <p>Here is everyone's <em>first</em> Node.js application:</p>
  <div>
    <div id="code" name="code" class="code" mode="javascript" style="display: none;"
>// Run with: `node server-hello.js`
var http = require('http');

http.createServer(function (req, res) {
  res.writeHead(200, {
    'content-type': "text/html"
  });
  res.end("<h1>Hello World!</h1>")
}).listen(2001);</div>
  </div>
  <br />
  <p>
    Let's try it in
    <a href="http://127.0.0.1:2001">development</a>...
  </p>
  <p>
    And, let's see a <em>slightly</em> more
    <a href="http://127.0.0.1:2002">enhanced version</a>...
  </p>
</section>

<section class="slide" id="package-app">
  <h2>Package the App</h2>
  <p>
    We have to package things up appropriately.
  </p>
  <ul>
    <li>
      Create a Git repository.
      (<a href="https://github.com/ryan-roemer/novanode-cloud-talk"
      >github.com/ryan-roemer/novanode-cloud-talk</a>)
    </li>
    <li>Add a &quot;<code>package.json</code>&quot; file.</li>
    <li>Add a Heroku &quot;<code>Procfile</code>&quot; file.</li>
  </ul>
  <pre><code>web: node server-hello.js</code></pre>
  <p>
    This tells Heroku to run &quot;<code>server-hello.js</code>&quot;
    as a Node.js web application.
  </p>
</section>

<section class="slide" id="deploy-app">
  <h2>Deployment</h2>
  <p>
    Now that we've developed our app, we're ready for prime time!
  </p>

  <span>Create the Heroku application:</span>
  <pre><code>$ heroku create --stack cedar</code></pre>

  <span>Rename the application:</span>
  <pre><code>$ heroku rename novanode</code></pre>

  <span>Deploy!</span>
  <pre><code>$ git push heroku master</code></pre>
</section>

<section class="slide" id="app-checks">
  <h2>We're Live!</h2>
  <p>
    Get ready for "hello world" goodness at:
    <a href="http://novanode.herokuapp.com/">novanode.herokuapp.com</a>
  </p>

  <span>Check Heroku processes:</span>
  <pre><code>$ heroku ps</code></pre>

  <span>Review our logs:</span>
  <pre><code>$ heroku logs</code></pre>

  <span>
    ... and many other commands. For example, open a server shell:
  </span>
  <pre><code>$ heroku run bash</code></pre>
</section>

<section class="slide" id="app-scale">
  <h2>Let's Scale!</h2>
  <p>Scaling with Heroku is incredibly easy and fast.</p>

  <span>&quot;<a href="http://en.wikipedia.org/wiki/Up_to_eleven"
    >These go to eleven.</a>&quot;</span>
  <pre><code>$ heroku ps:scale web=11</code></pre>

  <span>Review our massive service:</span>
  <pre><code>$ heroku ps</code></pre>

  <span>But let's not get carried away:</span>
  <pre><code>$ heroku ps:scale web=1</code></pre>
</section>

<section class="slide" id="chat-app">
  <h2>Chat Server</h2>
  <p>
    Hello world is scalable, but not useful.
    Let's try something that leverages Node.js's strengths:
    <strong>chat!</strong>
  </p>
  <ul>
    <li>
      <a href="https://github.com/steffenwt/nodejs-pub-sub-chat-demo">nodejs-pub-sub-chat-demo</a>
    </li>
    <li>
      Simple
      <a href="https://github.com/ryan-roemer/novanode-cloud-talk/blob/master/chat/index.html">HTML/JS client</a> and
      <a href="https://github.com/ryan-roemer/novanode-cloud-talk/blob/master/chat/app_redis.js">Node.js server</a>.
    </li>
    <li>
      Uses <a href="http://redis.io/">Redis</a>'
      <a href="http://redis.io/topics/pubsub">Pub/Sub</a> feature to
      allow clients to subscribe to channels and publish messages.
    </li>
    <li>
      Lots of connections that we'll leave open.
      Clients will use websockets, AJAX long-polling, etc. with
      <a href="http://socket.io/">Socket.IO</a>.
    </li>
  </ul>
  <p>
    Let's try it out in
    <a href="http://127.0.0.1:2000">development</a>...
  </p>
</section>

<section class="slide" id="chat-prepare">
  <h2>Prepare our Chat App</h2>

  <span>
    Add the <a href="https://addons.heroku.com/redistogo">Redis To Go</a>
    add-on.
  </span>
  <pre><code>$ heroku addons:add redistogo:nano</code></pre>

  <span>
    Update our &quot;<code>Procfile</code>&quot; to point to the chat
    server:
  </span>
  <pre><code>web: node chat/app_redis.js</code></pre>

  <span>Deploy!</span>
  <pre><code>$ git push heroku master</code></pre>
</section>

<section class="slide" id="heroku-chat">
  <h2>Heroku Chat</h2>
  <p>
    And we're up at
    <a href="http://novanode.herokuapp.com/">novanode.herokuapp.com</a>.
  </p>
  <p>
    However, we're now using AJAX long-polling, which leads us into...
  </p>
</section>

<section class="slide" id="paas-disads">
  <h2 style="font-size: 2em;">Heroku / PAAS Gotcha's</h2>
  <p>Sometimes you have to go with an IAAS or self-managed system.</p>
  <ul>
    <li>Lack of <strong>websockets</strong> support.</li>
    <li><strong>Expense</strong> of scaling the core service and add-on's.</li>
    <li>Outlier request <strong>latencies</strong>.</li>
    <li>
      <strong>Integrating</strong> Node.js with add-on's / services.
      (Memcached).
    </li>
    <li>Limited monitoring, <strong>system insight</strong>.</li>
  </ul>
</section>

<section class="slide" id="paas-advs">
  <h2 style="font-size: 2em;">Heroku / PAAS Benefits</h2>
  <p>But you can get a lot done in the Node.js PAAS ecosphere.</p>
  <ul>
    <li>Automatic application restarts on crashes.</li>
    <li>Intelligent routing during application upgrades.</li>
    <li>Rollback.</li>
    <li>Integration with AWS. Runs in AWS, and can directly hook to RDS.</li>
    <li>Takes care of virtually all operations issues.</li>
    <li>First web server on <em>each</em> application is free!</li>
  </ul>
</section>

<section class="slide" id="cloud-wrap-up">
  <h2>Wrapping up the Cloud</h2>
  <ul>
    <li>
      For prototyping and lightning speed development, Node.js PAAS
      services are often the winning ticket.
    </li>
    <li>
      For production, you'll often need look to IAAS providers.
      We run in the Amazon cloud, and our Node.js apps run with low system
      resource usage and minimal latency, and we have full control over our
      systems.
    </li>
    <li>
      But like Node.js itself, offerings in the cloud are evolving at a
      rapid pace, so be sure to check your options when you decide where and
      how to roll out your Node.js applications.
    </li>
  </ul>
</section>

<section class="slide" id="example-app">
  <h2>Reflections of a Node Developer</h2>
  <ul>
    <li>
      JavaScript has its warts, but you can learn to love it.
    </li>
    <li>
      Asynchronous programming ain't that bad.
      (Especially compared to threads and locks).
    </li>
    <li>
      Watch out for blocking code and missed callbacks.
    </li>
    <li>
      The library ecosystem resembles the Wild West.
    </li>
    <li>
      The community is responsive, growing, and eager to help.
    </li>
    <li>
      Give it a try!
    </li>
  </ul>
</section>

<section class="slide" id="conclusion">
  <h2>Thanks!</h2>
  <p>TODO SLIDE -- Info, URLs, contact.</p>
</section>

<!-- deck.navigation snippet -->
<a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
<a href="#" class="deck-next-link" title="Next">&#8594;</a>

<!-- deck.status snippet -->
<p class="deck-status">
  <span class="deck-status-current"></span> /
  <span class="deck-status-total"></span>
</p>

<!-- deck.goto snippet -->
<form action="." method="get" class="goto-form">
  <label for="goto-slide">Go to slide:</label>
  <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
  <datalist id="goto-datalist"></datalist>
  <input type="submit" value="Go">
</form>

<!-- deck.hash snippet -->
<a href="." title="Permalink to this slide" class="deck-permalink">#</a>

<!-- Late-bind JavaScript -->
<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
<script src="./slides/core/deck.core.js"></script>
<script src="./slides/extensions/hash/deck.hash.js"></script>
<script src="./slides/extensions/menu/deck.menu.js"></script>
<script src="./slides/extensions/goto/deck.goto.js"></script>
<script src="./slides/extensions/status/deck.status.js"></script>
<script src="./slides/extensions/navigation/deck.navigation.js"></script>

<script src="./slides/plugins/codemirror/codemirror.js"></script>
<script src="./slides/plugins/codemirror/mode/javascript/javascript.js"></script>
<script src="./slides/plugins/codemirror/deck.codemirror.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
	$(function() {
		$.deck('.slide', {
      codemirror: {
        lineNumbers: false,
        theme: "elegant",
        indentUnit: 2,
        indentWithTabs: false,
        runnable: false
      }
    });
  });
</script>
</body>
</html>
